{% extends "base.html" %}
{% block title %}Find requests{% endblock %}

{% block content %}

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div id="alert_block">
    {% for category, message in messages %}
      <p class='alert alert-{{ category }}'>{{ message }}</p>
    {% endfor %}
  </div>
  {% endif %}
{% endwith %}

<table class="table table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th>Can give</th>
      <th>Contact</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for i in reqs.items %}
    <tr>
      <td>{{ i.name }}</td>
      <td>{{ i.cangive }}</td>
      <td>{{ i.contact }}</td>
      <td>
          <a class="btn btn-danger" href="/mod/delete_resp/{{ i.id }}">Delete</a>
          {% if i.valid %}
            <a class="btn btn-warning"  href="/mod/valid_resp/{{ i.id }}">Mark as Valid</a>
          {% endif %}
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>
<a class="btn btn-success"  href="/responses/{{ page+1 }}">Next Page &raquo;</a>
{% if page != 1 %}
<a class="btn btn-success"  href="/responses/{{ page-1 }}">&laquo; Previous Page</a>
{% endif %}
      <hr>
{% endblock %}
{% block footer %}{% endblock %}